{"mappings":"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","sources":[".yarn/cache/@swc-helpers-npm-0.2.13-4381e6d153-712f15dfb4.zip/node_modules/@swc/helpers/src/_sliced_to_array.js",".yarn/cache/@swc-helpers-npm-0.2.13-4381e6d153-712f15dfb4.zip/node_modules/@swc/helpers/src/_array_with_holes.js",".yarn/cache/@swc-helpers-npm-0.2.13-4381e6d153-712f15dfb4.zip/node_modules/@swc/helpers/src/_iterable_to_array.js",".yarn/cache/@swc-helpers-npm-0.2.13-4381e6d153-712f15dfb4.zip/node_modules/@swc/helpers/src/_non_iterable_rest.js","src/logic/elements.ts","src/logic/util.ts","src/logic/state.ts","src/main.ts"],"sourcesContent":["import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","export const getContent = () => document.getElementById('content');\n\nexport const getClockWrapper = () => document.getElementById('clock-wrapper')!;\nexport const getClock = () => document.getElementById('clock')!;\n\nexport const getStartStopButton = () =>\n  document.getElementById('start-stop-button')!;\n\nexport const getIncrementers = () => document.getElementById('incrementers')!;\nexport const getIncButtons = () =>\n  document.getElementsByClassName('inc-button');\n","export const minutesToMillis = (minutes: number) => minutes * 60000;\n\n// Modified from https://stackoverflow.com/a/19700358\nexport const msToTime = (ms: number) => {\n  // let centiseconds: string | number = Math.floor((ms % 1000) / 10);\n  let seconds: string | number = Math.floor((ms / 1000) % 60);\n  let minutes: string | number = Math.floor((ms / (1000 * 60)) % 60);\n  let hours: string | number = Math.floor((ms / (1000 * 60 * 60)) % 24);\n\n  hours = hours < 10 ? '0' + hours : hours;\n  minutes = minutes < 10 ? '0' + minutes : minutes;\n  seconds = seconds < 10 ? '0' + seconds : seconds;\n  // centiseconds = centiseconds < 10 ? '0' + centiseconds : centiseconds;\n\n  return hours + ':' + minutes + ':' + seconds;\n};\n\nexport const timeToMs = (timeString: string) => {\n  const [hrs, mins, secs] = timeString.split(':');\n\n  return (\n    parseInt(hrs, 10) * 60 * 60 * 1000 +\n    parseInt(mins, 10) * 60 * 1000 +\n    parseInt(secs, 10) * 1000\n  );\n};\n","import { minutesToMillis } from './util';\n\nlet start = Date.now();\nexport const getStart = () => start;\nexport const setStart = (newTime: number) => (start = newTime);\n\nlet clockLength = minutesToMillis(15);\nexport const getClockLength = () => clockLength;\nexport const setClockLength = (newLength: number) => (clockLength = newLength);\n\nlet timerRef = { isRunning: false };\nexport const getTimerRef = () => timerRef;\nexport const setTimerIsRunning = (isRunning: boolean) =>\n  (timerRef.isRunning = isRunning);\n","import {\n  getClock,\n  getClockWrapper,\n  getIncButtons,\n  getIncrementers,\n  getStartStopButton,\n} from '~/src/logic/elements';\nimport {\n  getStart,\n  getClockLength,\n  getTimerRef,\n  setTimerIsRunning,\n  setStart,\n} from './logic/state';\nimport { msToTime, timeToMs } from './logic/util';\n\n// ON CLICKS\nconst onTogglePlay = () => {\n  const startStop = getStartStopButton();\n  if (getTimerRef().isRunning) {\n    setTimerIsRunning(false);\n    startStop.textContent = '▶';\n    getIncrementers().style.display = 'flex';\n  } else {\n    setTimerIsRunning(true);\n    // Not super accurate but whatever\n    const timeRemaining = timeToMs(getClock().textContent!);\n    setStart(Date.now() - (getClockLength() - timeRemaining));\n    startStop.textContent = 'II';\n    getIncrementers().style.display = 'none';\n  }\n};\n\ntype TimeUnit = 'hr' | 'min' | 'sec';\nconst createOnIncOrDec = (unit: TimeUnit, operation: '+' | '-') => () => {\n  const clock = getClock();\n  const [hr, min, sec] = clock.textContent!.split(':');\n  const timeObj: Record<TimeUnit, number> = {\n    hr: parseInt(hr, 10),\n    min: parseInt(min, 10),\n    sec: parseInt(sec, 10),\n  };\n\n  const nextVal = operation === '+' ? timeObj[unit] + 1 : timeObj[unit] - 1;\n  timeObj[unit] = nextVal > 59 ? 0 : nextVal < 0 ? 59 : nextVal;\n\n  clock.textContent = Object.keys(timeObj)\n    .map(\n      (unit) =>\n        `${timeObj[unit as TimeUnit] < 10 ? '0' : ''}${\n          timeObj[unit as TimeUnit]\n        }`\n    )\n    .join(':');\n};\n\n// SETUP INITIAL STATE\ngetClock().textContent = msToTime(getClockLength());\nconst startStop = getStartStopButton();\nstartStop.textContent = getTimerRef().isRunning ? 'II' : '▶';\nstartStop.addEventListener('click', onTogglePlay);\nArray.from(getIncButtons()).forEach((b, i) =>\n  b.addEventListener(\n    'click',\n    createOnIncOrDec(\n      i < 2 ? 'hr' : i < 4 ? 'min' : 'sec',\n      i % 2 === 0 ? '+' : '-'\n    )\n  )\n);\n\n// SETUP CLOCK INTERVAL\nsetInterval(() => {\n  if (getTimerRef().isRunning) {\n    const start = getStart();\n    const now = Date.now();\n    const totalTime = getClockLength();\n\n    const timeRemaining = totalTime - (now - start);\n\n    if (timeRemaining <= 0) {\n      setTimerIsRunning(false);\n      document.body.style.backgroundColor = '#000';\n      const startStop = getStartStopButton();\n      startStop.style.boxShadow = 'none';\n      startStop.style.cursor = 'default';\n      startStop.removeEventListener('click', onTogglePlay);\n    } else {\n      const percRemaining = (timeRemaining / totalTime) * 100;\n\n      getClock().textContent = msToTime(timeRemaining);\n      // Color approaches red from black as time decreases\n      const colorString = `hsl(7, ${Math.round(\n        100 - percRemaining\n      )}%, ${Math.round((100 - percRemaining) / 2)}%)`;\n      getClock().style.color = colorString;\n      getClockWrapper().style.borderColor = `rgba(0, 0, 0, ${\n        percRemaining / 100\n      })`;\n    }\n  }\n}, 333);\n"],"names":["arr","i","Array","isArray","$c3064da941a1b764$export$2e2bcd8739ae039","iter","Symbol","iterator","Object","prototype","toString","call","from","$a414cfb7cfef3b3b$export$2e2bcd8739ae039","TypeError","$9fbb6bd1f67c04f1$export$2e2bcd8739ae039","$562d864e911bb774$export$79a05fcfde346dc","document","getElementById","$562d864e911bb774$export$830379f8540c56e4","$562d864e911bb774$export$96f82c0b651f68ab","$b0535a7cc6a5d56e$export$967b849b2dd25d36","ms","seconds","Math","floor","minutes","hours","$e2d3cdb60187ce01$var$start","Date","now","$e2d3cdb60187ce01$var$clockLength","$e2d3cdb60187ce01$export$e2a10ee4eaff10d5","$e2d3cdb60187ce01$var$timerRef","isRunning","$e2d3cdb60187ce01$export$fafa165094d5b8b1","$e2d3cdb60187ce01$export$7125d057638d28a2","$02b2fc1f0fd6e808$var$onTogglePlay","newTime","timeString","ref","hrs","mins","secs","startStop","textContent","style","display","timeRemaining","$13c191253cd96eda$export$2e2bcd8739ae039","split","parseInt","$02b2fc1f0fd6e808$var$startStop","addEventListener","getElementsByClassName","forEach","b","unit","operation","clock","hr","min","sec","timeObj","nextVal","keys","map","concat","join","setInterval","start","totalTime","body","backgroundColor","boxShadow","cursor","removeEventListener","percRemaining","colorString","round","color","borderColor"],"version":3,"file":"index.03966139.js.map"}